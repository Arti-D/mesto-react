{"version":3,"sources":["logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/ImagePopup.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","utils/api.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","href","target","alt","src","logoPath","CurrentUserContext","React","createContext","Card","props","card","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeStatus","link","name","onClick","onCardClick","url","title","type","onCardLike","length","onCardDelete","Main","userData","avatar","onEditAvatar","onEditProfile","aria-label","about","onAddPlace","cards","map","item","Footer","PopupWithForm","isOpen","noValidate","onSubmit","children","buttonText","onClose","ImagePopup","EditProfilePopup","useState","userName","setName","description","setDescription","useEffect","e","preventDefault","onUpdateUser","id","placeholder","minLength","maxLength","autoComplete","required","value","onChange","EditAvatarPopup","avatarLink","useRef","onUpdateAvatar","current","ref","AddPlacePopup","placeName","placeLink","api","headers","this","_url","_headers","res","ok","json","Promise","reject","status","all","getUserInfo","getCards","fetch","method","then","_checkResponse","data","body","JSON","stringify","cardId","authorization","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","selectedCard","setSelectedCard","setUserInfo","closeAllPopups","catch","err","console","log","setCards","Provider","delLike","newCard","state","c","addLike","deleteCard","filter","newAvatar","addCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d7d409d3.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.03b78ada.svg\";","import logoPath from '../logo.svg'\r\nfunction Header() {\r\n    return (\r\n        <header className=\"header\">\r\n        <a href=\"https://github.com/Arti-D/mesto-react\" target=\"_blank\" className=\"header__logo-link\"><img className=\"header__logo\" alt=\"Логотип\"\r\n                src={logoPath}/>\r\n        </a>\r\n      </header>\r\n    )\r\n}\r\n\r\nexport default Header;","import React from \"react\";\r\nconst CurrentUserContext = React.createContext();\r\nexport default CurrentUserContext;\r\n","import CurrentUserContext from \"../contexts/CurrentUserContext.js\";\r\nimport React from 'react';\r\n\r\nfunction Card(props) {\r\n    \r\n    const card = props.card;\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n    const isOwn = card.owner._id === currentUser._id;\r\n    const cardDeleteButtonClassName = (\r\n        `elems__remove-btn ${isOwn ? 'elems__remove-btn_visible' : 'elems__remove-btn_hidden'}`\r\n      ); \r\n\r\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n    const cardLikeStatus = (\r\n        `elems__like ${isLiked ? 'elems__like_status_active' : ''}`\r\n    )\r\n\r\n    function handleLikeClick() {\r\n        props.onCardLike(card)\r\n    }\r\n\r\n    function handleCardClick() {\r\n      props.onCardClick({url: card.link, title: card.name});\r\n    }\r\n\r\n    function handleDeleteCard() {\r\n        props.onCardDelete(card)\r\n    }\r\n    return (\r\n        <li className=\"elems__item elem\">\r\n            <img src={card.link} alt={card.name} className=\"elems__img\" onClick={handleCardClick}/>\r\n            <div className=\"elems__wrapper\">\r\n                <h2 className=\"elems__title\">{card.name}</h2>\r\n                <div className=\"elems__like-wrapper\">\r\n                    <button type=\"button\" className={cardLikeStatus} onClick={handleLikeClick}></button>\r\n                    <p className=\"elems__number-of-likes\">{card.likes.length}</p>\r\n                </div>\r\n            </div>\r\n            <button className={cardDeleteButtonClassName} type=\"button\" onClick={handleDeleteCard}></button>\r\n        </li>\r\n    )\r\n}\r\n\r\nexport default Card","import React from \"react\";\r\nimport Card from \"./Card.js\";\r\nimport CurrentUserContext from \"../contexts/CurrentUserContext.js\";\r\n\r\nfunction Main(props) {\r\n  const userData = React.useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <>\r\n      <section className=\"profile\">\r\n        <div className=\"profile__main\">\r\n          <div className=\"profile__avatar\">\r\n            <img\r\n              className=\"profile__avatar-img\"\r\n              src={userData.avatar}\r\n              alt={`аватар пользователя ${userData.name}`}\r\n            />\r\n            <button\r\n              className=\"profile__avatar-btn\"\r\n              type=\"button\"\r\n              onClick={props.onEditAvatar}\r\n            ></button>\r\n          </div>\r\n          <div className=\"profile__info\">\r\n            <div className=\"profile__wrapper\">\r\n              <h1 className=\"profile__title\">{userData.name}</h1>\r\n              <button\r\n                onClick={props.onEditProfile}\r\n                aria-label=\"edit\"\r\n                title=\"edit\"\r\n                type=\"button\"\r\n                className=\"profile__edit-button\"\r\n              ></button>\r\n            </div>\r\n            <p className=\"profile__subtitle\">{userData.about}</p>\r\n          </div>\r\n        </div>\r\n        <button\r\n          className=\"profile__add-button\"\r\n          onClick={props.onAddPlace}\r\n          aria-label=\"edit\"\r\n          title=\"add\"\r\n          type=\"button\"\r\n        ></button>\r\n      </section>\r\n      <section className=\"elems\">\r\n        <ul className=\"elems__list\">\r\n          {props.cards.map((item) => (\r\n              <Card\r\n                card={item}\r\n                onCardLike={props.onCardLike}\r\n                key={item._id}\r\n                onCardClick={props.onCardClick}\r\n                onCardDelete={props.onCardDelete}\r\n              ></Card>\r\n          ))}\r\n        </ul>\r\n      </section>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n","function Footer() {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__copyright\">&copy; 2020 Mesto Russia</p>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","function PopupWithForm(props) {\r\n  return (\r\n    <div\r\n      className={`popup popup-${props.name} ${props.isOpen && \"popup_opened\"}`}\r\n    >\r\n      <div className=\"popup__content\">\r\n        <h2 className=\"popup__title\">{props.title}</h2>\r\n        <form\r\n          name={props.name}\r\n          className={`popup__form popup__form_${props.name}`}\r\n          noValidate\r\n          onSubmit={props.onSubmit}\r\n        >\r\n          {props.children}\r\n          <button className=\"popup__btn popup-avatar__make-btn\" type=\"submit\">\r\n            {props.buttonText}\r\n          </button>\r\n        </form>\r\n        <button\r\n          type=\"button\"\r\n          className=\"popup__close-btn\"\r\n          onClick={props.onClose}\r\n        ></button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;\r\n","function ImagePopup(props) {\r\n    return (\r\n    <div className={`popup popup-img ${props.card && 'popup_opened'}`}>\r\n    <div className=\"popup-img__content\">\r\n        <img src={props.card && props.card.url} alt={props.card && props.card.title} className=\"popup-img__picture\" />\r\n        <p className=\"popup-img__caption\">{props.card && props.card.title}</p>\r\n        <button type=\"button\" className=\"popup__close-btn\" onClick={props.onClose}></button>\r\n    </div>\r\n</div>\r\n    )\r\n}\r\n\r\nexport default ImagePopup;","import PopupWithForm from './PopupWithForm.js';\r\nimport React from 'react';\r\nimport CurrentUserContext from '../contexts/CurrentUserContext.js'\r\n\r\nfunction EditProfilePopup(props) {\r\n  const [userName, setName]= React.useState('');\r\n  const [description, setDescription] = React.useState('');\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  React.useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser, props.isOpen]);\r\n\r\n  function handleChangeName(e) {\r\n    setName(e.target.value);\r\n    // console.log(userName);\r\n  }\r\n\r\n  function handleChangeDescription(e) {\r\n    setDescription(e.target.value);\r\n    // console.log(description);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onUpdateUser(userName, description)\r\n  }\r\n    return (\r\n        <PopupWithForm\r\n          name='edit'\r\n          title='Редактировать профиль'\r\n          isOpen={props.isOpen}\r\n          onClose={props.onClose}\r\n          onSubmit={handleSubmit}\r\n          buttonText='Сохранить'\r\n        >\r\n          <input\r\n            id=\"name-input\"\r\n            name=\"name\"\r\n            type=\"text\"\r\n            placeholder=\"Имя\"\r\n            className=\"popup__input popup__input_type_name\"\r\n            minLength=\"2\"\r\n            maxLength=\"40\"\r\n            autoComplete=\"off\"\r\n            required\r\n            value={userName || ''}\r\n            onChange={handleChangeName}\r\n          />\r\n          <span id=\"name-input-error\" className=\"error\"></span>\r\n          <input\r\n            id=\"about-input\"\r\n            name=\"about\"\r\n            type=\"text\"\r\n            placeholder=\"О себе\"\r\n            className=\"popup__input popup__input_type_about\"\r\n            minLength=\"2\"\r\n            maxLength=\"200\"\r\n            autoComplete=\"off\"\r\n            required\r\n            value={description || ''}\r\n            onChange={handleChangeDescription}\r\n          />\r\n          <span id=\"about-input-error\" className=\"error\"></span>\r\n          \r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default EditProfilePopup;","import { useRef } from 'react'\r\nimport PopupWithForm from './PopupWithForm.js'\r\n\r\nfunction EditAvatarPopup(props) {\r\n    const avatarLink = useRef();\r\n    \r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        props.onUpdateAvatar({avatar: avatarLink.current.value})\r\n\r\n    }\r\n    return (\r\n        <PopupWithForm\r\n          title=\"Обновить аватар\"\r\n          name=\"avatar\"\r\n          isOpen={props.isOpen}\r\n          onClose={props.onClose}\r\n          onSubmit={handleSubmit}\r\n          buttonText='Сохранить'\r\n        >\r\n          <input\r\n            id=\"avatar-link-input\"\r\n            className=\"popup__input popup__input_type_link\"\r\n            type=\"url\"\r\n            name=\"avatar\"\r\n            placeholder=\"Ссылка на картинку\"\r\n            autoComplete=\"off\"\r\n            required\r\n            ref={avatarLink}\r\n          />\r\n          <span id=\"avatar-link-input-error\" className=\"error\"></span>\r\n          \r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default EditAvatarPopup","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm.js\";\r\n\r\nfunction AddPlacePopup(props) {\r\n  const placeName = React.useRef();\r\n  const placeLink = React.useRef();\r\n\r\n  function handleAddPlaceSubmit(e) {\r\n    e.preventDefault();\r\n    props.onAddPlace({\r\n      name: placeName.current.value,\r\n      link: placeLink.current.value,\r\n    });\r\n    placeName.current.value = '';\r\n    placeLink.current.value = '';\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"add\"\r\n      title=\"Новое место\"\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      onSubmit={handleAddPlaceSubmit}\r\n      buttonText='Сохранить'\r\n    >\r\n      <input\r\n        id=\"img-title-input\"\r\n        className=\"popup__input popup__input_type_title\"\r\n        type=\"text\"\r\n        name=\"name\"\r\n        placeholder=\"Название\"\r\n        maxLength=\"30\"\r\n        minLength=\"2\"\r\n        autoComplete=\"off\"\r\n        ref={placeName}\r\n      />\r\n      <span id=\"img-title-input-error\" className=\"error\"></span>\r\n      <input\r\n        id=\"img-link-input\"\r\n        className=\"popup__input popup__input_type_link\"\r\n        type=\"url\"\r\n        name=\"link\"\r\n        placeholder=\"Ссылка на картинку\"\r\n        autoComplete=\"off\"\r\n        required\r\n        ref={placeLink}\r\n      />\r\n      <span id=\"img-link-input-error\" className=\"error\"></span>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default AddPlacePopup;\r\n","class Api {\r\n  constructor({ url, headers }) {\r\n    this._url = url;\r\n    this._headers = headers;\r\n  }\r\n\r\n  _checkResponse(res) {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    return Promise.reject(`Ошибка ${res.status}`);\r\n  }\r\n\r\n  getAllInfo() {\r\n    return Promise.all([this.getUserInfo(), this.getCards()]);\r\n  }\r\n\r\n  getCards() {\r\n    return fetch(`${this._url}/cards`, {\r\n      method: \"GET\",\r\n      headers: this._headers,\r\n    }).then(this._checkResponse);\r\n  }\r\n\r\n  getUserInfo() {\r\n    return fetch(`${this._url}/users/me`, {\r\n      method: \"GET\",\r\n      headers: this._headers,\r\n    }).then(this._checkResponse);\r\n  }\r\n\r\n  addCard(data) {\r\n    return fetch(`${this._url}/cards`, {\r\n      method: \"POST\",\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: data.name,\r\n        link: data.link,\r\n      }),\r\n    }).then(this._checkResponse);\r\n  }\r\n  \r\n  setUserInfo({ name, about }) {\r\n    return fetch(`${this._url}/users/me`, {\r\n      method: \"PATCH\",\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: name,\r\n        about: about,\r\n      }),\r\n    }).then(this._checkResponse);\r\n  }\r\n\r\n  deleteCard(cardId) {\r\n    return fetch(`${this._url}/cards/${cardId}`, {\r\n      method: \"DELETE\",\r\n      headers: this._headers,\r\n    }).then(this._checkResponse);\r\n  }\r\n\r\n  addLike(cardId) {\r\n    return fetch(`${this._url}/cards/likes/${cardId}`, {\r\n      method: \"PUT\",\r\n      headers: this._headers,\r\n    }).then(this._checkResponse);\r\n  }\r\n\r\n  delLike(cardId) {\r\n    return fetch(`${this._url}/cards/likes/${cardId}`, {\r\n      method: \"DELETE\",\r\n      headers: this._headers,\r\n    }).then(this._checkResponse);\r\n  }\r\n\r\n  // \r\n  newAvatar({ avatar }) {\r\n    return fetch(`${this._url}/users/me/avatar`, {\r\n      method: \"PATCH\",\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        avatar: avatar,\r\n      }),\r\n    }).then(this._checkResponse);\r\n  }\r\n}\r\n\r\nconst config = {\r\n  url: \"https://mesto.nomoreparties.co/v1/cohort-22\",\r\n  headers: {\r\n    authorization: \"ecd44a5f-5259-4858-9be5-8f874f37b67e\",\r\n    // authorization: \"7d190d24-45cc-41a1-907b-c30a1fbc5d49\",\r\n    \"Content-type\": \"application/json\",\r\n  },\r\n};\r\n\r\nconst api = new Api(config);\r\nexport default api;\r\n","import React from \"react\";\nimport Header from \"./Header.js\";\nimport Main from \"./Main.js\";\nimport Footer from \"./Footer.js\";\nimport PopupWithForm from \"./PopupWithForm.js\";\nimport ImagePopup from \"./ImagePopup.js\";\nimport EditProfilePopup from \"./EditProfilePopup.js\";\nimport EditAvatarPopup from \"./EditAvatarPopup.js\";\nimport AddPlacePopup from \"./AddPlacePopup.js\";\nimport api from \"../utils/api.js\";\nimport CurrentUserContext from \"../contexts/CurrentUserContext.js\";\n\nfunction App() {\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] =\n    React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] =\n    React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState(null);\n  const [currentUser, setUserInfo] = React.useState({});\n\n  React.useEffect(() => {\n    api\n      .getUserInfo()\n      .then((userData) => {\n        setUserInfo(userData);\n      })\n      .catch((err) => console.log(err));\n  }, []);\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n  function handleCardClick(data) {\n    setSelectedCard(data);\n  }\n\n  function closeAllPopups() {\n    setIsAddPlacePopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setSelectedCard(null);\n  }\n\n  function handleUpdateUser(name, about) {\n    api\n      .setUserInfo({ name: name, about: about })\n      .then((userData) => {\n        setUserInfo(userData);\n        closeAllPopups();\n      })\n      .catch((err) => console.log(err));\n  }\n\n  function handleUpdateAvatar(avatar) {\n    api\n      .newAvatar(avatar)\n      .then((res) => {\n        setUserInfo(res);\n        closeAllPopups();\n      })\n      .catch((err) => console.log(err));\n  }\n\n  // работа с карточками\n\n  const [cards, setCards] = React.useState([]);\n  React.useEffect(() => {\n    api\n      .getCards()\n      .then((data) => {\n        setCards(data);\n      })\n      .catch((err) => console.log(err));\n  }, []);\n\n  function handleCardDelete(card) {\n    api\n      .deleteCard(card._id)\n      .then((res) => {\n        setCards((state) => state.filter((c) => c._id !== card._id));\n      })\n      .catch((err) => console.log(err));\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\n    if (isLiked) {\n      api\n        .delLike(card._id)\n        .then((newCard) => {\n          setCards((state) =>\n            state.map((c) => (c._id === card._id ? newCard : c))\n          );\n        })\n        .catch((err) => console.log(err));\n    } else {\n      api\n        .addLike(card._id)\n        .then((newCard) => {\n          setCards((state) =>\n            state.map((c) => (c._id === card._id ? newCard : c))\n          );\n        })\n        .catch((err) => console.log(err));\n    }\n  }\n\n  function onAddPlace(data) {\n    api\n      .addCard(data)\n      .then((newCard) => {\n        closeAllPopups();\n        setCards([newCard, ...cards]);\n      })\n      .catch((err) => console.log(err));\n  }\n\n  return (\n    <div className=\"page\">\n      <CurrentUserContext.Provider value={currentUser}>\n        <Header />\n        <Main\n          onEditProfile={handleEditProfileClick}\n          onAddPlace={handleAddPlaceClick}\n          onEditAvatar={handleEditAvatarClick}\n          onCardClick={handleCardClick}\n          cards={cards}\n          onCardLike={handleCardLike}\n          onCardDelete={handleCardDelete}\n        />\n        <Footer />\n\n        <EditAvatarPopup\n          isOpen={isEditAvatarPopupOpen}\n          onClose={closeAllPopups}\n          onUpdateAvatar={handleUpdateAvatar}\n        ></EditAvatarPopup>\n\n        <AddPlacePopup\n          isOpen={isAddPlacePopupOpen}\n          onClose={closeAllPopups}\n          onAddPlace={onAddPlace}\n        ></AddPlacePopup>\n\n        <EditProfilePopup\n          isOpen={isEditProfilePopupOpen}\n          onClose={closeAllPopups}\n          onUpdateUser={handleUpdateUser}\n        ></EditProfilePopup>\n\n        <PopupWithForm title=\"Вы уверены?\" name=\"sure\">\n          <button className=\"popup__btn popup-sure__btn\" type=\"button\">\n            Да\n          </button>\n        </PopupWithForm>\n        <ImagePopup card={selectedCard} onClose={closeAllPopups}></ImagePopup>\n      </CurrentUserContext.Provider>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App.js';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nreportWebVitals();\n"],"sourceRoot":""}